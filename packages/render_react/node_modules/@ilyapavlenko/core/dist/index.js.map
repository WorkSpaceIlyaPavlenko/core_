{"version":3,"sources":["../src/types/events/events.ts","../src/types/entities/kind/elements.ts","../src/types/entities/kind/blocks.ts","../src/types/entities/kind/kind.ts","../src/types/entities/tag.ts","../src/types/entities/index.ts","../src/types/types.ts","../src/schemas/events/events_actions.ts","../src/schemas/entities/kind.ts","../src/schemas/events/events_kind.ts","../src/schemas/entities/tag.ts","../src/schemas/utils/typeof.ts","../src/schemas/entities/props.ts","../src/schemas/validator.ts","../src/engine/converters/props_converter.ts","../src/engine/converters/signal_converter.ts","../src/register/utils.ts","../src/register/button_store/button_register.ts","../src/signals/handlers/handler.ts","../src/signals/handlers/button_handler.ts","../src/register/text_store/text_register.ts","../src/signals/handlers/text_handler.ts","../src/register/container_store/container_register.ts","../src/signals/handlers/container_handler.ts","../src/signals/signal_register.ts","../src/engine/validation/validation_props.ts","../src/register/container_store/container_childs_register.ts","../src/register/index.ts","../src/engine/providers/store_provider.ts","../src/engine/engine.ts","../src/configs/elements/button.ts","../src/configs/elements/text.ts","../src/configs/elements/index.ts","../src/configs/blocks/container.ts","../src/configs/blocks/index.ts","../src/configs/main.ts","../src/signals/signals.ts"],"names":["z","kind_default","tag_default","createEvent","createStore","setCore","setBehavior","setState","setProps","Elements","elements_default","Blocks","blocks_default"],"mappings":"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","file":"index.js","sourcesContent":["\nexport type SystemSignalType =\n    | 'open'\n    | 'close'\n    | 'setVisible'\n    | 'setDisabled'\n    | 'setActive'\n    | 'setLoading';\n\n\nconst Events = {\n    UI:{\n        onClick:'onClick',\n        onMouseEnter:'onMouseEnter',\n        onMouseLeave:'onMouseLeave',\n        onFocus: 'onFocus',\n        onBlur:'onBlur',\n        onKeyDown:'onKeyDown',\n        onKeyUp:'onKeyUp',\n    },\n\n    Systems:{\n        open:'open',\n        close:'close',\n        setVisible:'setVisible',\n        setDisabled:'setDisabled',\n        setActive:'setActive',\n        setLoading:'setLoading',\n    },\n\n    Kind:{\n        ui:'ui',\n        system:'system',\n    }\n\n};\n\n\nexport default Events;","\n\n\nconst Elements = {\n    button:'button',\n    link:'link',\n    text:'text',\n}\n\nexport default Elements;","\n\nconst Blocks = {\n    container:'container',\n}\n\nexport default Blocks;","import Elements from \"@/core/types/entities/kind/elements\";\nimport Blocks from \"@/core/types/entities/kind/blocks\";\n\n\nconst Kind = {\n    ...Elements,\n    ...Blocks,\n\n}\n\nexport default Kind;","\n\nconst Text_ = {\n    p:'p',\n    h1:'h1',\n    h2:'h2',\n    h3:'h3',\n    h4:'h4',\n}\n\nconst Tag = {\n    Text_,\n}\nexport default Tag;","import Kind from \"@/core/types/entities/kind/kind\";\nimport Tag from \"@/core/types/entities/tag\";\n\nconst Entities = {\n    Kind,\n    Tag,\n}\n\nexport default Entities;","\nimport Events from \"@/core/types/events/events\";\nimport Entities from \"@/core/types/entities\";\n\nconst Types = {\n    Entities,\n    Events,\n};\n\nexport default Types;","import Types from \"@/core/types/types\";\nimport z from \"zod\";\n\nexport const EventActionsUI = z.enum(Object.values(Types.Events.UI))\n\nexport const EventActionsSys = z.enum(Object.values(Types.Events.Systems))\n\nconst EventActionsSchemas = {\n    EventActionsUI,\n    EventActionsSys,\n\n}\n\nexport default EventActionsSchemas;","import z from \"zod\";\nimport Types from \"@/core/types/types\";\n\n\nconst AllKindsSchema = z.enum(Object.values(Types.Entities.Kind))\n\nexport type AllKindsSchemaType = z.infer<typeof AllKindsSchema>\n\nconst ButtonKindSchema =  z.enum\n([\n    Types.Entities.Kind.button,\n    Types.Entities.Kind.link\n])\n\nconst TextKindSchema =  z.literal(Types.Entities.Kind.text);\n\nconst ElementsKindSchema =  z.enum\n([\n    Types.Entities.Kind.button,\n    Types.Entities.Kind.link,\n    Types.Entities.Kind.text\n])\n\nconst BlocksKindSchema =  z.enum\n([\n    Types.Entities.Kind.container,\n])\n\nconst ContainerKindSchema =  z.literal(Types.Entities.Kind.container);\n\nconst KindSchemas = {\n    EntitiesKindButton:ButtonKindSchema,\n    EntitiesKindText:TextKindSchema,\n    EntitiesKindContainer:ContainerKindSchema,\n    EntitiesKindElements:ElementsKindSchema,\n    EntitiesKindBlocks:BlocksKindSchema,\n    EntitiesKindAll:AllKindsSchema,\n};\n\nexport default KindSchemas;","import Types from \"@/core/types/types\";\nimport z from \"zod\";\n\n\nexport const EventKindUI = z.literal(Types.Events.Kind.ui)\n\nexport const EventKindSys = z.literal(Types.Events.Kind.ui)\n\nconst EventKindSchemas = {\n    EventKindUI,\n    EventKindSys,\n\n}\n\nexport default EventKindSchemas;","import z from \"zod\";\nimport Types from \"@/core/types/types\";\n\n\nconst TextTagSchema = z.enum(Object.values(Types.Entities.Tag.Text_));\n\nconst TagSchemas = {\n    TextTagSchema\n}\n\nexport default TagSchemas;","import z from \"zod\";\nimport Types from \"@/core/types/types\";\n\n\nexport function isObject (item:unknown)\n{\n    return (typeof item === 'object' && item !== null)\n}\nconst deferRegister = setTimeout(() =>{\n\n},5000)\n\nexport const UtilsDynamicNodeCore = z.object({\n    id: z.string(),\n    kind: z.string(),\n})\n\nconst UtilsIsDynamicCore = z.object({\n    id: z.string(),\n    kind: z.string(),\n    owner: UtilsDynamicNodeCore,\n})\nconst UtilsIsNodeCore = z.object({\n    id: z.string(),\n    kind: z.string(),\n    owner: z.string().nullable().optional(),\n    children: z.array(z.unknown()).optional(),\n\n    //container\n    layout: z.string().optional(),\n});\n\nconst UtilsIsNodeInitialState = z.object({\n    visible: z.boolean().optional(),\n    disabled: z.boolean().optional(),\n    active: z.boolean().optional(),\n    loading: z.boolean().optional(),\n});\n\nconst UtilsSignalUISchema = z.object({\n    kind: z.literal(Types.Events.Kind.ui),\n    event: z.enum(Object.values(Types.Events.UI)),\n})\n\nconst UtilsSignalSysSchema = z.object({\n    kind: z.literal(Types.Events.Kind.system),\n    event: z.enum(Object.values(Types.Events.Systems)),\n})\n\nexport const UtilsSignalSchema = z.discriminatedUnion('kind', [\n    UtilsSignalUISchema,\n    UtilsSignalSysSchema,\n]);\n\nconst UtilsEmitSchema = z.object({\n    targetId: z.string(),\n    elKind: z.string(),\n    signal: UtilsSignalSchema,\n    payload:z.unknown().optional()\n})\n\nconst UtilsIsBehaviorSchema = z.object({\n    emit:z.array(UtilsEmitSchema),\n});\n\nconst Utils = {\n    UtilsIsObject: isObject,\n    UtilsIsNodeCoreSchema:UtilsIsNodeCore,\n    UtilsIsNodeInitialStateSchema: UtilsIsNodeInitialState,\n    UtilsSignalUISchema,\n    UtilsSignalSysSchema,\n    UtilsSignalSchema,\n    UtilsEmitSchema,\n    UtilsIsBehaviorSchema,\n    UtilsDynamicNodeCore,\n    UtilsIsDynamicCore,\n\n}\n\nexport default Utils;","import { z } from \"zod\";\n\nexport const NodeAstStateSchema = z.object({\n    visible: z.boolean().optional(),\n    disabled: z.boolean().optional(),\n    active: z.boolean().optional(),\n    loading: z.boolean().optional(),\n});\n\n\nexport const AstButtonPropsSchema = z.object({\n    className: z.string().optional(),\n    classNameImgWp: z.string().optional(),\n    classNameImg: z.string().optional(),\n    classNameSvg: z.string().optional(),\n\n    importance: z.enum(['default', 'main', 'supplementary']).optional(),\n    backgroundStyle: z.string().optional(),\n\n    text: z.string().optional(),\n\n    img: z.unknown().optional(),\n    svg: z.unknown().optional(),\n\n    imgLocation: z.enum(['left', 'right']).optional(),\n    imgWidth: z.number().optional(),\n    imgHeight: z.number().optional(),\n});\n\nexport const RuntimePropsButtonSchema =\n    AstButtonPropsSchema.and(NodeAstStateSchema);\n\n\nexport const HtmlTagSchema = z.custom<keyof HTMLElementTagNameMap>(\n    (value) => {\n        if (typeof value !== 'string') return false;\n        if (typeof document === 'undefined') return false;\n        return document.createElement(value).toString() !== '[object HTMLUnknownElement]';\n    },\n    { message: 'Invalid HTML tag name' }\n);\n\nexport const AstTextPropsSchema = z.object({\n    className: z.string().optional(),\n\n    text: z.union([z.string(), z.number()]).optional(),\n\n    animateTyping: z.boolean().optional(),\n    typingSpeed: z.number().optional(),\n    startDelay: z.number().optional(),\n});\n\nexport const AstTextInitialStateSchema = z.object({\n    tag: HtmlTagSchema,\n});\n\n\nexport const RuntimePropsTextSchema =\n    AstTextPropsSchema\n        .and(AstTextInitialStateSchema)\n        .and(NodeAstStateSchema);\n\nexport const LayoutTypeSchema = z.enum([\n    'FlexLayout',\n    'GridLayout',\n    'AbsoluteLayout',\n    'InlineLayout',\n    'DefaultLayout',\n]);\n\nexport const AstContainerCoreSchema = z.object({\n    kind: z.literal('container'),\n    layout: LayoutTypeSchema.optional(),\n});\n\n\n\nexport const AstContainerPropsSchema = z.object({\n    className: z.string().optional(),\n\n    display: z.enum(['flex', 'grid', 'inline']).optional(),\n    direction: z.enum(['row', 'column']).optional(),\n    align: z.enum(['start', 'center', 'end']).optional(),\n    gap: z.number().optional(),\n    position: z.enum([\n        'absolute',\n        'relative',\n        'fixed',\n        'static',\n        'sticky',\n    ]).optional(),\n});\n\n\nexport const RuntimePropsContainerSchema =\n    AstContainerPropsSchema.and(NodeAstStateSchema);\n\nconst PropsSchema = {\n    NodeAstStateSchema,\n\n    AstButtonPropsSchema,\n    RuntimePropsButtonSchema,\n\n    AstTextPropsSchema,\n    AstTextInitialStateSchema,\n    RuntimePropsTextSchema,\n\n    AstContainerCoreSchema,\n    AstContainerPropsSchema,\n    RuntimePropsContainerSchema,\n};\n\nexport default PropsSchema;\n","\nimport EventActionsSchemas from \"@/core/schemas/events/events_actions\";\nimport KindSchemas from \"@/core/schemas/entities/kind\";\nimport EventKindSchemas from \"@/core/schemas/events/events_kind\";\nimport TagSchemas from \"@/core/schemas/entities/tag\";\nimport Utils from \"@/core/schemas/utils/typeof\";\nimport PropsSchema from \"@/core/schemas/entities/props\";\n\n\nconst Validator = {\n    ...KindSchemas,\n    ...TagSchemas,\n    ...EventActionsSchemas,\n    ...EventKindSchemas,\n    ...Utils,\n    ...PropsSchema,\n}\n\nexport default Validator;","\nimport {AstElementButtonType} from \"@/core/configs/elements/type\";\nimport {RuntimeButtonRegister} from \"@/core/register/button_store/type\";\nimport {coreAST, initStateAST, propsAST} from \"@/core/engine/converters/type\";\nimport {RuntimeTextRegister} from \"@/core/register/text_store/type\";\nimport {AstElementTextType} from \"@/core/configs/elements/type\";\nimport Validator from \"@/core/schemas/validator\";\nimport {AstBlockContainerType} from \"@/core/configs/blocks/type\";\n\n\ntype SupportedKind = keyof PropsConverter['converters'];\n\nexport type RuntimeRegister =\n    | RuntimeButtonRegister\n    | RuntimeTextRegister\n    | AstBlockContainerType\n\n\nclass PropsConverter\n{\n    initStateAST:initStateAST;\n    propsAST:propsAST;\n    coreAST:coreAST;\n    kind:SupportedKind;\n\n    converters = {\n        button:() => this.mergeProps<AstElementButtonType['props']>(),\n        link:() => this.mergeProps<AstElementButtonType['props']>(),\n        text:() => this.mergeProps<AstElementTextType['props']>(),\n        container:() => this.mergeProps<AstBlockContainerType['props']>(),\n    } satisfies Record<string, () => RuntimeRegister>\n\n    constructor(\n        initState:initStateAST,\n        props:propsAST,\n        core:coreAST\n    )\n    {\n        this.initStateAST = initState;\n        this.propsAST = props;\n        this.coreAST = core;\n        this.kind = core.kind as SupportedKind;\n    }\n\n    getProps()\n    {\n        const kind = this.kind;\n        const fn = this.converters[kind];\n\n        if (!fn)\n            return undefined;\n\n        return fn();\n    }\n\n    private mergeProps<T>()\n    {\n        const props = Validator.UtilsIsObject(this.propsAST) ?\n            this.propsAST as T: {};\n\n        return {\n            id:this.coreAST.id,\n            props:{\n                ...(this.initStateAST ?? {}),\n                ...props\n            }\n        };\n    }\n}\n\nexport default PropsConverter;\n","import {behaviorAST, coreAST} from \"@/core/engine/converters/type\";\nimport {SignalContract, SignalSysType, SignalUIType} from \"@/core/configs/type\";\nimport {RuntimeSignal} from \"@/core/engine/type\";\nimport Validator from \"@/core/schemas/validator\";\nimport {AstButtonProps, AstTextCore} from \"@/core/configs/elements/type\";\nimport {AstContainerCore} from \"@/core/configs/blocks/type\";\n\n\nclass SignalConverter {\n    coreAST:coreAST;\n    behaviorAST:behaviorAST;\n    kind:string;\n    id:string;\n\n    constructor(core:coreAST, behavior:behaviorAST)\n    {\n        this.coreAST = core;\n        this.behaviorAST = behavior;\n        this.kind = core.kind\n        this.id = core.id;\n    }\n\n    getSignals() {\n        return this.createRuntimeSignals();\n    }\n\n    createRuntimeSignals():RuntimeSignal| undefined\n    {\n        if (!this.behaviorAST)\n            return undefined;\n\n        const emits = [...this.behaviorAST.emit];\n        const runTimeEmits:Array<SignalContract> = [];\n\n        for (const emit of emits)\n        {\n            const {targetId, targetKind} = this.getEmitsTarget(emit);\n            const signal = this.getSignalType(emit);\n\n            if(signal === undefined)\n                continue;\n\n            const payload = this.getPayload(targetKind, emit.payload);\n\n            runTimeEmits.push({\n                targetId,\n                elKind:targetKind,\n                signal,\n                payload\n            })\n        }\n        console.log(runTimeEmits);\n        return {emits:runTimeEmits}\n    }\n\n    getEmitsTarget(emit:SignalContract)\n    {\n        const targetId = emit.targetId;\n        const targetKind = emit.elKind;\n\n        return {\n            targetId,\n            targetKind,\n        }\n    }\n\n    getSignalType(emit:SignalContract)\n    {\n        const signal = emit.signal;\n        const {kind, event} = signal;\n\n        if (Validator.EventKindUI.safeParse(kind).success\n            && Validator.EventActionsUI.safeParse(event))\n            return signal as SignalUIType;\n\n        else if (Validator.EventKindSys.safeParse(kind).success\n            && Validator.EventActionsSys.safeParse(event))\n            return signal as SignalSysType;\n\n        return undefined;\n    }\n    //TODO:заменить as на z валидацию\n    getPayload(kind:string, payload:unknown)\n    {\n        if (!Validator.UtilsIsObject(payload))\n            return {};\n\n        if (Validator.EntitiesKindButton.safeParse(kind).success)\n            return payload as AstButtonProps;\n\n        if (Validator.EntitiesKindContainer.safeParse(kind).success)\n            return payload as AstContainerCore;\n\n        if (Validator.EntitiesKindText.safeParse(kind).success)\n            return payload as AstTextCore;\n\n        return {}\n    }\n\n}\n\nexport default SignalConverter;","import {RuntimeChildrenId} from \"@/core/engine/type\";\n\n\ntype WithId = {\n    id: string\n}\n\ntype WithProps<P extends object = object> = {\n    props: P\n}\n\nexport function register<T extends WithId>(map: Map<string, T>, config: T): Map<string, T>\n{\n    if (!config.id)\n        return map;\n\n    const next = new Map(map);\n    next.set(config.id, config);\n\n    return next;\n}\n\n\nexport function update<T extends WithId & WithProps>(map: Map<string, T>, { id, patch }: { id: string; patch: Partial<T> }): Map<string, T>\n{\n    const config = map.get(id);\n    if (!config)\n        return map;\n\n    if (!patch.props)\n        return map;\n\n    const next = new Map(map);\n\n    next.set(id, {\n        ...config,\n        ...patch,\n        props: {\n            ...config.props,\n            ...patch.props,\n        },\n    });\n\n    return next;\n}\n\nexport function updateChildren<T extends WithId>(map: Map<string, T[]>, { id, children }: { id: string; children: T[] }): Map<string, T[]>\n{\n    if (!children.length)\n        return map;\n\n    const prev = map.get(id) ?? [];\n\n    const merged = new Map<string, T>();\n\n    for (const item of prev)\n        merged.set(item.id, item);\n\n    for (const item of children)\n        merged.set(item.id, item);\n\n    const next = new Map(map);\n    next.set(id, [...merged.values()]);\n\n    return next;\n}\n\nexport function removeChildren<T extends WithId>(map: Map<string, T[]>, { id, children }: { id: string; children: T[] }): Map<string, T[]>\n{\n    if (!children.length)\n        return map;\n\n    const prev = map.get(id);\n    if (!prev)\n        return map;\n\n    const removeIds = new Set(children.map(c => c.id));\n    const filtered = prev.filter(c => !removeIds.has(c.id));\n\n    const next = new Map(map);\n\n    if (filtered.length)\n        next.set(id, filtered);\n    else\n        next.delete(id);\n\n    return next;\n}\n\n\n\n","\nimport {createStore, createEvent} from 'effector'\nimport {RuntimeButtonRegister} from \"@/core/register/button_store/type\";\nimport {register, update} from \"@/core/register/utils\";\n\n\nexport const registerButton = createEvent<RuntimeButtonRegister>();\n\nexport const updateButton = createEvent<{id:RuntimeButtonRegister['id']; patch:Partial<RuntimeButtonRegister>}>()\n\nexport const $buttons = createStore<Map<RuntimeButtonRegister['id'], RuntimeButtonRegister>>(new Map())\n    .on(registerButton, register)\n    .on(updateButton, update)\n","import {SignalContract} from \"@/core/configs/type\";\nimport {RuntimeSignal} from \"@/core/engine/type\";\nimport Validator from \"@/core/schemas/validator\";\n\n\nexport type StoreFn<T> = (payload: {\n    id: string;\n    patch: {\n        id: string;\n        props: T;\n    };\n}) => void;\n\nabstract class Handler<T> {\n\n    protected abstract getCollection(): Map<string, RuntimeSignal>;\n\n    protected abstract getStore():StoreFn<T>;\n\n    protected constructor() {};\n\n    public register(signalId:string, data:RuntimeSignal)\n    {\n        this.getCollection().set(signalId, data);\n    }\n\n\n    public execute(signalId:string, event:string):void\n    {\n        const data:RuntimeSignal = this.getCollection().get(signalId)!;\n        const store = this.getStore();\n        console.log(data)\n        if (Validator.EventActionsUI.safeParse(event).success && data)\n        {\n            for (const emit of data.emits)\n            {\n                const event_= emit.signal.event;\n\n                if (event_ !== event)\n                    continue;\n\n\n                store(this.getPatch(emit));\n            }\n\n        }\n\n        else if (Validator.EventKindSys.safeParse(event).success && data)\n        {\n            //TODO: пока нет sys временно дублиурую логику\n            for (const emit of data.emits)\n            {\n                const event_= emit.signal.event;\n\n                if (event_ !== event)\n                    continue;\n\n\n                store(this.getPatch(emit));\n            }\n        }\n    }\n\n    public getEventById(signalId:string)\n    {\n        const data:RuntimeSignal = this.getCollection().get(signalId)!;\n        const events:Array<string> = [];\n\n        if (data)\n            for (const emit of data.emits)\n                events.push(emit.signal.event);\n\n        return events;\n    }\n\n    protected getPatch(emit:SignalContract)\n    {\n        const patch = {\n            id:emit.targetId,\n            props:emit.payload as T\n        }\n\n        return {\n            id:emit.targetId,\n            patch:patch\n        }\n    }\n    \n}\n\nexport default Handler\n","import {RuntimeSignal} from \"@/core/engine/type\";\nimport {updateButton} from \"@/core/register/button_store/button_register\";\nimport {RuntimeButtonProps} from \"@/core/register/button_store/type\";\nimport Handler, {StoreFn} from \"@/core/signals/handlers/handler\";\n\n\nexport class ButtonHandler extends Handler<RuntimeButtonProps>\n{\n    private actionsCollection:Map<string, RuntimeSignal> = new Map();\n\n    constructor(){ super(); };\n\n    protected getCollection(): Map<string, RuntimeSignal>\n    {\n        return this.actionsCollection;\n    }\n\n    protected getStore(): StoreFn<RuntimeButtonProps>\n    {\n        return updateButton;\n    }\n}\n\nconst AppButtonHandler = new ButtonHandler();\n\nexport default AppButtonHandler;","import {createEvent, createStore} from \"effector\";\nimport {RuntimeTextRegister} from \"@/core/register/text_store/type\";\nimport {register, update} from \"@/core/register/utils\";\n\n\nexport const registerText = createEvent<RuntimeTextRegister>();\n\nexport const updateText = createEvent<{id:string, patch:RuntimeTextRegister}>();\n\nexport const $texts = createStore<Map<RuntimeTextRegister['id'], RuntimeTextRegister>>(new Map())\n    .on(registerText, register)\n    .on(updateText, update)","import Handler, {StoreFn} from \"@/core/signals/handlers/handler\";\nimport {RuntimeSignal} from \"@/core/engine/type\";\nimport {RuntimeTextProps} from \"@/core/register/text_store/type\";\nimport {updateText} from \"@/core/register/text_store/text_register\";\n\n\nexport class TextHandler extends Handler<RuntimeTextProps>\n{\n    private actionsCollection:Map<string, RuntimeSignal> = new Map();\n\n    constructor(){ super(); };\n\n    protected getCollection(): Map<string, RuntimeSignal>\n    {\n        return this.actionsCollection;\n    }\n\n    protected getStore(): StoreFn<RuntimeTextProps> {\n        return updateText;\n    }\n}\n\nconst AppTextHandler = new TextHandler();\n\nexport default AppTextHandler;","import {createEvent, createStore} from \"effector\";\nimport {register, update} from \"@/core/register/utils\";\nimport {RuntimeContainerRegister} from \"@/core/register/container_store/type\";\n\n\nexport const registerContainer = createEvent<RuntimeContainerRegister>();\n\nexport const updateContainer = createEvent<{id:RuntimeContainerRegister['id']; patch:Partial<RuntimeContainerRegister>}>()\n\nexport const $containers = createStore<Map<RuntimeContainerRegister['id'], RuntimeContainerRegister>>(new Map())\n    .on(registerContainer, register)\n    .on(updateContainer, update)\n\n","import Handler, {StoreFn} from \"@/core/signals/handlers/handler\";\nimport {RuntimeContainerProps} from \"@/core/register/container_store/type\";\nimport {RuntimeSignal} from \"@/core/engine/type\";\n\nimport {updateContainer} from \"@/core/register/container_store/container_register\";\n\n\nexport class ContainerHandler extends Handler<RuntimeContainerProps>\n{\n    private actionsCollection:Map<string, RuntimeSignal> = new Map();\n\n    constructor() { super(); }\n\n    protected getCollection(): Map<string, RuntimeSignal>\n    {\n        return this.actionsCollection;\n    }\n\n    protected getStore(): StoreFn<RuntimeContainerProps>\n    {\n        return updateContainer;\n    }\n}\n\nconst AppContainerHandler = new ContainerHandler();\n\nexport default AppContainerHandler;","\nimport {CoreIdAndKind} from \"@/core/signals/type\";\nimport crypto from 'node:crypto';\nimport {RuntimeSignal} from \"@/core/engine/type\";\nimport Validator from \"@/core/schemas/validator\";\nimport AppButtonHandler, {ButtonHandler} from \"@/core/signals/handlers/button_handler\";\nimport AppTextHandler, {TextHandler} from \"@/core/signals/handlers/text_handler\";\nimport AppContainerHandler, {ContainerHandler} from \"@/core/signals/handlers/container_handler\";\n\nexport type Handlers =\n    | ButtonHandler\n    | TextHandler\n    | ContainerHandler\n\nclass SignalRegister\n{\n    keySignalsId_ = new Map<string, string>();\n    signalsIdHandler = new Map<string, Array<string>>();\n\n    private handlers = new Map<string, Handlers>([\n        ['AppButtonHandler', AppButtonHandler],\n        ['AppTextHandler', AppTextHandler],\n        ['AppContainerHandler', AppContainerHandler],\n    ]);\n\n    constructor() {}\n\n    public setSignal({id, kind}:CoreIdAndKind, data:RuntimeSignal)\n    {\n        const key = this.getKey({id, kind});\n        const signalID = this.createSignalId(key);\n\n        if (!this.keySignalsId_.has(key))\n        {\n            this.keySignalsId_.set(key, signalID);\n            this.provideToHandler(signalID, data);\n        }\n\n    }\n\n    public getSignalId({id, kind}:CoreIdAndKind)\n    {\n        const key = this.getKey({id, kind});\n        return this.keySignalsId_.get(key)!;\n\n    }\n\n    public getEventForId(signalId:string)\n    {\n        const handlerNames = this.signalsIdHandler.get(signalId);\n\n        if (!handlerNames?.length)\n            return [];\n\n        const events:Array<string> = [];\n\n        for (const handlerName of handlerNames)\n        {\n            const handler = this.getHandler(handlerName);\n\n            if (!handler)\n                return [];\n\n            events.push(...handler.getEventById(signalId))\n        }\n\n        return events\n    }\n\n    public executeSignal(signalId:string, event:string)\n    {\n        const handlerNames = this.signalsIdHandler.get(signalId);\n\n        if (!handlerNames?.length)\n            throw Error('No denied Handlers');\n\n        for (const handlerName of handlerNames)\n        {\n            const handler = this.getHandler(handlerName);\n\n            if (!handler)\n                throw Error('No denied Handler');\n\n            handler.execute(signalId, event)\n        }\n\n    }\n\n    private createSignalId(key:string)\n    {\n        const key_ = crypto.createHash('sha256')\n            .update(key)\n            .digest('hex')\n            .slice(0,16);\n\n        return `sig_${key_}`;\n    }\n\n    private getKey({id, kind}:CoreIdAndKind)\n    {\n        return `${id}-${kind}`;\n    }\n\n    private provideToHandler(signalId:string, data:RuntimeSignal):void\n    {\n        const emitCollection = this.sortEmitsByKind(data);\n\n        for (const [kind, emit] of emitCollection)\n        {\n            if (Validator.EntitiesKindButton.safeParse(kind).success)\n            {\n                this.getHandler('AppButtonHandler')?.register(signalId, emit);\n\n                this.setSignalHandler(signalId, 'AppButtonHandler');\n\n                continue;\n            }\n\n            if (Validator.EntitiesKindText.safeParse(kind).success)\n            {\n                this.getHandler('AppTextHandler')?.register(signalId, data);\n\n                this.setSignalHandler(signalId, 'AppTextHandler');\n\n                continue;\n            }\n\n            if (Validator.EntitiesKindContainer.safeParse(kind).success)\n            {\n                this.getHandler('AppContainerHandler')?.register(signalId, data);\n\n                this.setSignalHandler(signalId, 'AppContainerHandler');\n\n                continue;\n            }\n        }\n    }\n\n    private getHandler(handler:string)\n    {\n        if (this.handlers.has(handler))\n            return this.handlers.get(handler);\n        else\n            throw Error('No handler handler found.');\n    }\n\n    private setSignalHandler(id:string, handler:string)\n    {\n        const prevHandlers = this.signalsIdHandler.get(id)!;\n\n        if (prevHandlers && prevHandlers.length)\n        {\n            this.signalsIdHandler.set(id, [...prevHandlers, handler]);\n        }\n        else\n            this.signalsIdHandler.set(id, [handler])\n    }\n\n    private sortEmitsByKind(data:RuntimeSignal)\n    {\n        const emits = data.emits;\n\n        const kindEmits = new Map<string, RuntimeSignal>([]);\n\n        for (const emit of emits)\n        {\n            const prev = kindEmits.get(emit.elKind)!;\n\n            if(prev?.emits.length)\n                kindEmits.set(emit.elKind, {emits:[...prev.emits, emit]});\n            else\n                kindEmits.set(emit.elKind, {emits:[emit]});\n        }\n\n        return kindEmits;\n    }\n}\n\nconst AppSignalRegister = new SignalRegister();\n\nexport default AppSignalRegister;","import Validator from \"@/core/schemas/validator\";\nimport {NodeAstConfigType} from \"@/core/configs/type\";\nimport {ZodSafeParseError} from \"zod\";\nimport {AllKindsSchemaType} from \"@/core/schemas/entities/kind\";\nimport Types from \"@/core/types/types\";\nimport {RuntimeButtonProps} from \"@/core/register/button_store/type\";\nimport {RuntimeContainerProps} from \"@/core/register/container_store/type\";\nimport {RuntimeTextProps} from \"@/core/register/text_store/type\";\n\n\nexport type AllRuntimeProps =\n    | RuntimeButtonProps\n    | RuntimeContainerProps\n    | RuntimeTextProps\n\n\nexport type AllRuntimePropsFn = (data:unknown) => boolean;\n\nexport class ValidationProps\n{\n    private schemasByKind = new Map<AllKindsSchemaType, AllRuntimePropsFn>\n    ([\n        [\n            Types.Entities.Kind.button,\n            (props) => Validator.RuntimePropsButtonSchema.safeParse(props).success\n        ],\n        [\n            Types.Entities.Kind.link,\n            (props) => Validator.RuntimePropsButtonSchema.safeParse(props).success\n        ],\n        [\n            Types.Entities.Kind.text,\n            (props) => Validator.RuntimePropsTextSchema.safeParse(props).success\n        ],\n        [\n            Types.Entities.Kind.container,\n            (props) => Validator.RuntimePropsContainerSchema.safeParse(props).success\n        ]\n\n    ])\n\n    constructor() {};\n\n\n    public validKind(kind:string)\n    {\n        const parse = Validator.EntitiesKindAll.safeParse(kind);\n\n         if (parse.success)\n             return true;\n         else\n         {\n             //TODO:номарльный logger завести\n             console.error(parse.error);\n             return false;\n         }\n    }\n\n    public validRuntimePropsOfKind(kind:string, id:string | undefined, props:AllRuntimeProps | undefined)\n    {\n        if (!id)\n        {\n            console.warn(`Unknown runtime item`)\n            return false;\n        }\n\n        if (!props)\n        {\n            console.warn(`Empty props for item ${id}. Skip register`);\n            return false;\n        }\n\n        const fn = this.schemasByKind.get(kind);\n\n        if (!fn)\n        {\n            console.error(`Undefined kind - ${kind}`);\n            return false;\n        }\n\n        const parse = fn(props);\n\n        if (parse)\n            return true;\n\n        else\n        {\n            console.error(`Not correct props structure for Kind: ${kind}`);\n            return false;\n        }\n\n    }\n\n    public isDynamic(item:unknown)\n    {\n        const parse = Validator.UtilsIsDynamicCore.safeParse(item);\n\n        if (parse.success)\n            return true;\n        else\n        {\n            console.error(parse.error);\n            return false;\n        }\n    };\n\n    public isDynamicCore(item:unknown)\n    {\n        const parse = Validator.UtilsDynamicNodeCore.safeParse(item);\n\n        if (parse.success)\n            return parse.data;\n        else\n        {\n            console.error(parse.error);\n            return false;\n        }\n    }\n\n    //TODO:ослабить валидацию для всего кроме core иничае z перезатрет\n    public castToNodeAstConfig(item:unknown):NodeAstConfigType\n    {\n        if (!Validator.UtilsIsObject(item))\n            throw Error ('Not success format node config');\n\n        if (!('core' in item))\n            throw Error ('Core is missing node config');\n\n        const parsedCore = Validator.UtilsIsNodeCoreSchema.safeParse(item.core);\n\n        if (!parsedCore.success)\n            this.throwError(parsedCore);\n\n        let parsedInitialState= undefined;\n        if ('initialState' in item)\n            parsedInitialState = Validator.UtilsIsNodeInitialStateSchema.safeParse(item.initialState);\n\n        if (parsedInitialState && !parsedInitialState.success)\n            this.throwError(parsedInitialState);\n\n        let parsedBehavior = undefined;\n        if ('behavior' in item)\n            parsedBehavior = Validator.UtilsIsBehaviorSchema.safeParse(item.behavior);\n\n        if (parsedBehavior && !parsedBehavior.success)\n            this.throwError(parsedBehavior);\n\n        let parseProps = undefined;\n        if ('props'in item)\n            parseProps = item.props;\n\n        return {\n            core:parsedCore.data,\n            initialState:parsedInitialState?.data ?? undefined,\n            behavior:parsedBehavior?.data ?? undefined,\n            props:parseProps ?? undefined\n        }\n\n    }\n\n    private throwError<E>(errs:ZodSafeParseError<E>):never\n    {\n        throw Error ('Not correct struct for core: ' +\n            errs.error.issues.map(i => i.path.join('.') + ': ' + i.message).join(', ')\n        )\n    }\n\n    public blocksKind = (kind:string) => Validator.EntitiesKindContainer.safeParse(kind).success;\n}","import {createEvent, createStore} from \"effector\";\nimport {RuntimeContainerChildren, RuntimeContainerRegister} from \"@/core/register/container_store/type\";\nimport {RuntimeChildrenId} from \"@/core/engine/type\";\nimport {removeChildren, updateChildren} from \"@/core/register/utils\";\n\n\nexport const addContainerChildren = createEvent<RuntimeContainerChildren>();\n\nexport const deleteChildren = createEvent<RuntimeContainerChildren>();\n\nexport const $container_children = createStore<Map<RuntimeContainerRegister['id'], Array<RuntimeChildrenId>>>(new Map())\n    .on(addContainerChildren, updateChildren)\n    .on(deleteChildren, removeChildren)","import Types from \"@/core/types/types\";\nimport {registerButton} from \"@/core/register/button_store/button_register\";\nimport {registerText} from \"@/core/register/text_store/text_register\";\nimport {RuntimeButtonRegister} from \"@/core/register/button_store/type\";\nimport {RuntimeTextRegister} from \"@/core/register/text_store/type\";\nimport {AllKindsSchemaType} from \"@/core/schemas/entities/kind\";\nimport {registerContainer} from \"@/core/register/container_store/container_register\";\nimport {RuntimeContainerChildren, RuntimeContainerRegister} from \"@/core/register/container_store/type\";\nimport {addContainerChildren} from \"@/core/register/container_store/container_childs_register\";\n\n\nexport type RuntimeRegister =\n    | RuntimeButtonRegister\n    | RuntimeTextRegister\n    | RuntimeContainerRegister\n\nexport type RegisterHandler = (data: RuntimeRegister) => void;\n\nexport type StoresRegistersType = Map<AllKindsSchemaType, RegisterHandler>;\n\nexport const StoresRegisters = new Map<AllKindsSchemaType, RegisterHandler>\n([\n    [Types.Entities.Kind.button,(data) => registerButton(data as RuntimeButtonRegister)],\n    [Types.Entities.Kind.link, (data) => registerButton(data as RuntimeButtonRegister)],\n    [Types.Entities.Kind.text, (data) => registerText(data as RuntimeTextRegister)],\n    [Types.Entities.Kind.container, (data) => registerContainer(data as RuntimeContainerRegister)],\n])\n\nexport type RuntimeChildrenRegister =\n    | RuntimeContainerChildren\n\nexport type AddChildrenType = (data:RuntimeChildrenRegister) => void;\n\nexport const childrenStoresRegisters = new Map<AllKindsSchemaType, AddChildrenType>\n([\n    [Types.Entities.Kind.container,(data) => addContainerChildren(data as RuntimeContainerChildren)],\n])","\nimport {\n    StoresRegisters,\n    RuntimeRegister,\n    StoresRegistersType,\n    childrenStoresRegisters,\n    RuntimeChildrenRegister\n} from \"@/core/register\";\n\n\n\nexport class StoreProvider\n{\n    private stores:StoresRegistersType = StoresRegisters;\n    private childrenStore = childrenStoresRegisters;\n\n    constructor() {};\n\n    /**\n     * provie valid props to registers\n     */\n    public provide(kind:string, props:RuntimeRegister):void\n    {\n        const fn = this.stores.get(kind);\n\n        if (!fn)\n        {\n            //TODO:прокинуть в logger\n            console.error(`There is no suitable registry for the ${kind}`);\n            return;\n        }\n\n        fn(props);\n    }\n\n    public childIdsProvide(kind:string, data:RuntimeChildrenRegister)\n    {\n        const fn = this.childrenStore.get(kind);\n\n        if (!fn)\n        {\n            console.error(`There is no suitable registry children for the ${kind}`);\n            return;\n        }\n\n        fn(data)\n    }\n}\n\n\n","\n\nimport {\n    NodeAstConfigType,\n    NodeCoreStructType, OwnerDynamicParentType\n} from \"../configs/type\";\nimport {registerButton} from \"@/core/register/button_store/button_register\";\nimport PropsConverter from \"@/core/engine/converters/props_converter\";\nimport SignalConverter from \"@/core/engine/converters/signal_converter\";\nimport Validator from \"@/core/schemas/validator\";\nimport AppSignalRegister from \"@/core/signals/signal_register\";\nimport {registerText} from \"@/core/register/text_store/text_register\";\nimport {RuntimeTextRegister} from \"@/core/register/text_store/type\";\nimport {RuntimeButtonRegister} from \"@/core/register/button_store/type\";\nimport {ZodSafeParseError} from \"zod\";\nimport {registerContainer} from \"@/core/register/container_store/container_register\";\nimport {RuntimeContainerRegister} from \"@/core/register/container_store/type\";\nimport {addContainerChildren} from \"@/core/register/container_store/container_childs_register\";\nimport {RuntimeChildrenId} from \"@/core/engine/type\";\nimport {AllRuntimeProps, ValidationProps} from \"@/core/engine/validation/validation_props\";\nimport {StoreProvider} from \"@/core/engine/providers/store_provider\";\n\n\n\nexport default class Engine\n{\n    private inRun = new Set<NodeCoreStructType['id']>([]);\n    private childrenIds = new Map<string, Array<RuntimeChildrenId>>([]);\n    private validator = new ValidationProps();\n    private provider = new StoreProvider();\n\n\n    constructor(){};\n\n    public run(config:NodeAstConfigType)\n    {\n        this.parseNode(config);\n    }\n\n    public dynamic(data:NodeAstConfigType | Array<NodeAstConfigType>)\n    {\n        if (Array.isArray(data))\n            for (const item of data)\n            {\n                if(this.validator.isDynamic(item.core))\n                {\n                    this.run(item);\n                    this.ownerByChildren(item.core)\n                }\n            }\n        else\n            if(this.validator.isDynamic(data.core))\n            {\n                this.run(data);\n                this.ownerByChildren(data.core)\n            }\n    }\n\n    private storeProvider({core, initialState, props}:NodeAstConfigType)\n    {\n        const {id, kind}  = core\n        const converter = new PropsConverter(initialState, props, core);\n\n        if (!this.validator.validKind(kind))\n            return;\n\n        const propsRuntime = converter.getProps();\n\n        if (!propsRuntime || !this.validator.validRuntimePropsOfKind(kind, propsRuntime?.id, propsRuntime?.props))\n            return;\n\n        this.provider.provide(kind, propsRuntime);\n        this.childrenProvide({id, kind});\n    }\n\n    private signalsProvider({core, behavior}:NodeAstConfigType)\n    {\n        if (!behavior)\n            return;\n\n        const converter = new SignalConverter(core, behavior);\n        const runtimeSignal = converter.getSignals();\n\n        if (!runtimeSignal)\n            return;\n\n        AppSignalRegister.setSignal(core, runtimeSignal);\n    }\n\n    private parseNode(config:NodeAstConfigType)\n    {\n        const {core} = config;\n\n        if (this.inRun.has(core.id))\n            throw new Error(`Duplicate or cyclic node id: ${core.id}`);\n\n        this.inRun.add(core.id);\n\n        if (this.hasChild(core) && Array.isArray(core.children))\n        {\n            const ids:Array<RuntimeChildrenId> = [];\n\n            for (let i = 0; i < core.children.length; i++)\n            {\n                const child= this.validator.castToNodeAstConfig(core.children[i]);\n\n                const {id, kind} = child.core\n\n                ids.push({id, kind});\n                this.parseNode(child);\n            }\n\n            if (ids.length)\n                this.setChildrenIds(core.id, ids);\n        }\n\n        this.storeProvider(config);\n        this.signalsProvider(config);\n    }\n\n    private hasChild(core:NodeCoreStructType)\n    {\n        return !!core.children?.length\n    }\n\n    private getChildrenIds(id:string)\n    {\n        if(this.childrenIds.has(id))\n            return this.childrenIds.get(id)!;\n\n        return [];\n    }\n\n    private ownerByChildren(core:NodeCoreStructType)\n    {\n        const parse = this.validator.isDynamicCore(core.owner);\n        if (parse)\n        {\n            this.setChildrenIds(parse.id, [{id:core.id, kind:core.kind}]);\n            this.childrenProvide(parse)\n        }\n    }\n\n    private childrenProvide({id, kind}:OwnerDynamicParentType)\n    {\n        if (!this.validator.blocksKind(kind))\n            return;\n\n        const children = this.getChildrenIds(id);\n        if (!children?.length)\n            return;\n\n        this.provider.childIdsProvide(kind, {id, children})\n    }\n\n    private setChildrenIds(id: string, children_ids: RuntimeChildrenId[])\n    {\n        if (!children_ids.length)\n            return;\n\n        const prev = this.childrenIds.get(id) ?? [];\n\n        const map = new Map<string, RuntimeChildrenId>();\n\n        for (const c of [...prev, ...children_ids])\n        {\n            map.set(c.id, c);\n        }\n\n        this.childrenIds.set(id, [...map.values()]);\n    }\n\n}\n","import {AstElementButtonType} from \"./type\";\nimport {OwnerDynamicParentType} from \"@/core/configs/type\";\n\n\nexport function button_config(data:AstElementButtonType):AstElementButtonType\n{\n\n    const core = setCore(data);\n    const initialState = setState(data) ?? {};\n    const behavior = setBehavior(data) ?? { emit: [] };\n    const props = setProps(data) ?? {};\n\n    return {\n        core,\n        initialState,\n        behavior,\n        props\n    }\n}\n\nexport function button_config_dynamic(data:AstElementButtonType, owner:OwnerDynamicParentType):AstElementButtonType\n{\n    const coreWithOwner = {\n        core: {\n            ...data.core,\n            owner\n        }\n    }\n\n    const core = setCore(coreWithOwner);\n    const initialState = setState(data) ?? {};\n    const behavior = setBehavior(data) ?? { emit: [] };\n    const props = setProps(data) ?? {};\n\n    return {\n        core,\n        initialState,\n        behavior,\n        props\n    }\n}\n\nfunction setCore(data:Pick<AstElementButtonType, 'core'>)\n{ \n  return {...data.core}\n}\n\nfunction setBehavior(data:Pick<AstElementButtonType, 'behavior'>)\n{\n  if (!data.behavior)\n    return undefined;\n\n  return {...data.behavior}\n}\n\nfunction setState(data:Pick<AstElementButtonType, 'initialState'>)\n{\n  if (!data.initialState)\n    return {\n      visible: true\n    }\n\n  return {\n    ...data.initialState,\n    visible:data.initialState.visible ?? true\n    \n  };\n}\n\nfunction setProps(data:Pick<AstElementButtonType, 'props'>)\n{\n  if (!data.props)\n    return undefined;\n\n  const props = {...data.props};\n\n  if (props.img)\n    if (!props.imgLocation)\n      props.imgLocation = 'left';\n\n  return {...props}\n}\n\n","import {AstElementTextType} from \"@/core/configs/elements/type\";\nimport {ElementType} from \"react\";\nimport Validator from \"@/core/schemas/validator\";\n\n\nexport function text_config(data:AstElementTextType):AstElementTextType\n{\n    const core = setCore(data);\n    const behavior = setBehavior(data) ?? {emit:[]};\n    const initialState = setState(data);\n    const props = setProps(data) ?? {};\n\n    return {\n        core,\n        initialState,\n        behavior,\n        props\n    }\n}\n\nfunction setCore(data:Pick<AstElementTextType, 'core'>)\n{\n    return {...data.core}\n}\n\nfunction setBehavior(data:Pick<AstElementTextType, 'behavior'>)\n{\n    if (!data.behavior)\n        return undefined;\n\n    return {...data.behavior}\n}\n\nfunction setState(data:Pick<AstElementTextType, 'initialState'>)\n{\n    if (!data.initialState)\n        return {\n            visible: true,\n            tag:'p' as ElementType\n        }\n\n    return {\n        ...data.initialState,\n        visible:data.initialState.visible ?? true,\n        tag:setTextTag(data.initialState.tag),\n    };\n}\n\nfunction setTextTag(tag:ElementType):ElementType\n{\n    return Validator.TextTagSchema.safeParse(tag).success\n        ? tag as ElementType : 'p';\n}\n\nfunction setProps(data:Pick<AstElementTextType, 'props'>)\n{\n    if (!data.props)\n        return undefined;\n\n    const props = {...data.props};\n\n    return {...props}\n}","import {button_config, button_config_dynamic} from \"./button\";\nimport {text_config} from \"@/core/configs/elements/text\";\n\n\nconst Elements = {\n    Button:button_config,\n    ButtonDynamic:button_config_dynamic,\n    Text:text_config,\n}\n\nexport default Elements;","import {AstBlockContainerType} from \"@/core/configs/blocks/type\";\n\n\n\n\nexport function container_config(data:AstBlockContainerType):AstBlockContainerType\n{\n    const core = setCore(data);\n\n    return {\n        core,\n        behavior:setBehavior(data) ?? {emit:[]},\n        initialState:setState(data) ?? {},\n        props:setProps(data.props, core),\n    }\n}\n\nfunction setCore(data:Pick<AstBlockContainerType, 'core'>)\n{\n    const {core} = data;\n\n    return {\n        ...core,\n        layout:core.layout ?? 'DefaultLayout',\n    }\n}\n\nfunction setBehavior(data:Pick<AstBlockContainerType, 'behavior'>)\n{\n    if (!data.behavior)\n        return undefined;\n\n    return {...data.behavior}\n}\n\nfunction setState(data:Pick<AstBlockContainerType, 'initialState'>)\n{\n    if (!data.initialState)\n        return {\n            visible: true\n        }\n\n    return {\n        ...data.initialState,\n        visible:data.initialState.visible ?? true\n\n    };\n}\n\nfunction setProps(props: AstBlockContainerType['props'], core: AstBlockContainerType['core']): AstBlockContainerType['props'] {\n    const base = props ? { ...props } : {};\n    const layout = core.layout ?? 'DefaultLayout';\n\n    switch (layout)\n    {\n        case 'FlexLayout':\n        {\n            return {\n                ...base,\n                display: 'flex',\n                direction: base.direction ?? 'row',\n                align: base.align ?? 'start',\n                gap: base.gap ?? 0,\n            };\n        }\n\n        case 'GridLayout':\n        {\n            return {\n                ...base,\n                display: 'grid',\n                gap: base.gap ?? 0,\n                // колонки / строки можно добавить позже\n            };\n        }\n\n        case 'AbsoluteLayout':\n        {\n            return {\n                ...base,\n                position: base.position ?? 'absolute',\n            };\n        }\n\n        case 'InlineLayout':\n        {\n            return {\n                ...base,\n                display: 'inline',\n            };\n        }\n\n        case 'DefaultLayout':\n        default: {\n            return {\n                ...base,\n            };\n        }\n    }\n}\n\n\n\n","import {container_config} from \"@/core/configs/blocks/container\";\n\n\nconst Blocks = {\n    Container:container_config,\n}\n\nexport default Blocks;","import Elements from \"./elements\";\nimport Blocks from \"@/core/configs/blocks\";\n\nconst Config = \n{\n    Elements,\n    Blocks,\n}\nexport default Config;","import AppSignalRegister from \"@/core/signals/signal_register\";\nimport {CoreIdAndKind} from \"@/core/signals/type\";\n\nexport function getActionId({id, kind}:CoreIdAndKind)\n{\n\n    const signalId = AppSignalRegister.getSignalId({id, kind});\n    const events = AppSignalRegister.getEventForId(signalId);\n\n    return {\n        signalId,\n        events\n    }\n}\n\nexport function onSignal(signalId:string, events:string)\n{\n    AppSignalRegister.executeSignal(signalId, events);\n}\n"]}